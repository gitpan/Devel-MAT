#!/usr/bin/perl

use strict;
use warnings;

use Devel::MAT::Dumpfile;

my $df = Devel::MAT::Dumpfile->load( $ARGV[0] // die "Need dumpfile\n" );

print "Perl memory dumpfile from perl ", $df->perlversion, "\n";
print "Heap contains ", scalar $df->heap, " objects\n";

foreach my $sv ( $df->heap ) {
   printf "  %s at %#x\n", $sv->desc, $sv->addr;
}
